var b=Object.defineProperty;var g=Object.getOwnPropertySymbols;var S=Object.prototype.hasOwnProperty,x=Object.prototype.propertyIsEnumerable;var d=(r,e,n)=>e in r?b(r,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):r[e]=n,p=(r,e)=>{for(var n in e||(e={}))S.call(e,n)&&d(r,n,e[n]);if(g)for(var n of g(e))x.call(e,n)&&d(r,n,e[n]);return r};var t=(r,e,n)=>(d(r,typeof e!="symbol"?e+"":e,n),n);import{j as y,R as c,M as T,W as w,S as E,P as N,B as O,a as L,b as z,O as I,r as P,c as _,d as A}from"./vendor.ec9a04c6.js";const B=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerpolicy&&(a.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?a.credentials="include":s.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}};B();const o=y.exports.jsx,h=y.exports.jsxs;class D extends c.Component{constructor(){super(...arguments);t(this,"render",()=>o("div",{className:"centered-overlay",children:this.props.children}))}}const f=r=>new T().appendStr(r).end(),C=(r,e)=>{var n,i;return typeof e=="string"?JSON.parse((n=localStorage.getItem(r))!=null?n:e):JSON.parse((i=localStorage.getItem(r))!=null?i:JSON.stringify(e))},v=(r,e)=>{localStorage.setItem(r,JSON.stringify(e))};const l={"overlay.buttonCount":f("overlay.buttonCount"),"overlay.refreshCount":f("overlay.refreshCount")};class U extends c.Component{constructor(e){super(e);t(this,"refreshCount");t(this,"componentDidMount",()=>{v(l["overlay.refreshCount"],this.refreshCount+1)});t(this,"componentDidUpdate",()=>{v(l["overlay.buttonCount"],this.state.count)});t(this,"onButtonClick",()=>{this.setState(e=>({count:e.count+1}))});t(this,"render",()=>o(D,{children:h("div",{className:"inner-overlay",children:[h("p",{className:"white-text pretty-text large-text",children:["Count: ",this.state.count]}),o("button",{className:"click-button overlay-active-item",onClick:()=>this.onButtonClick(),children:"Click Me!"}),h("p",{className:"white-text pretty-text corner-text",children:["Refresh count: ",this.refreshCount]})]})}));this.state={count:C(l["overlay.buttonCount"],0)},this.refreshCount=C(l["overlay.refreshCount"],0)}}class k{constructor(){t(this,"scenes");t(this,"current");t(this,"has",e=>this.scenes.has(e));t(this,"get",e=>this.scenes.get(e));t(this,"set",(e,n)=>this.scenes.set(e,n));t(this,"delete",e=>{var n;this.scenes.get(e)===this.current&&(this.current=void 0),(n=this.scenes.get(e))==null||n.onDestruction(),this.scenes.delete(e)});t(this,"size",()=>this.scenes.size);t(this,"getCurrent",()=>this.current);t(this,"setCurrent",e=>{var i;const n=this.current;return this.scenes.has(e)?(n==null||n.onDestruction(),n==null||n.removeAll(),this.current=this.scenes.get(e),(i=this.current)==null||i.onInitialization({key:e}),this.current===void 0&&console.error("Something's wrong ups!"),!0):!1});this.scenes=new Map,this.current=void 0}}class j{constructor(e,n={}){t(this,"renderer");t(this,"sceneManager");t(this,"lastFrameScene");t(this,"deltaTime",0);t(this,"sceneTime",0);t(this,"lastTime",0);t(this,"isRunning");t(this,"running",()=>this.isRunning);t(this,"onInitialization",()=>{});t(this,"onDestruction",()=>{});t(this,"gameLoop",(e,n)=>{var i,s;this.sceneManager.getCurrent()===void 0&&(this.isRunning=!1,this.renderer.setAnimationLoop(null),this.renderer.clear()),this.deltaTime=(e-this.lastTime)/1e3,this.lastTime=e,this.sceneTime=this.lastFrameScene==this.sceneManager.getCurrent()?this.sceneTime+=this.deltaTime:0,this.lastFrameScene=this.sceneManager.getCurrent(),(i=this.sceneManager.getCurrent())==null||i.onUpdate({deltaTime:this.deltaTime,sceneTime:this.sceneTime,totalTime:e}),(s=this.sceneManager.getCurrent())==null||s.onRender({})});t(this,"run",()=>{this.isRunning=!0,this.renderer.setAnimationLoop(this.gameLoop)});this.renderer=new w(p({canvas:e},n)),this.renderer.setSize(innerWidth,innerHeight),this.sceneManager=new k,this.isRunning=!1}}class W extends E{constructor(e){super();t(this,"sceneParameters");t(this,"renderer");t(this,"sceneManager");t(this,"managerKey","no-key");t(this,"removeAll",()=>this.remove(this,...this.children));t(this,"onInitialization",async()=>{});t(this,"onDestruction",async()=>{});t(this,"onUpdate",()=>{});t(this,"onRender",()=>{});this.sceneParameters=e,this.renderer=this.sceneParameters.renderer,this.sceneManager=this.sceneParameters.sceneManager}}class H extends W{constructor(e){super(e);t(this,"camera");t(this,"cube");t(this,"orbitControls");t(this,"cameraMatUpdateCallback");t(this,"onInitialization",e=>{this.managerKey=e.key});t(this,"onDestruction",()=>{window.removeEventListener("resize",this.cameraMatUpdateCallback)});t(this,"onUpdate",e=>{this.cube.rotateX(e.deltaTime),this.cube.rotateZ(e.deltaTime)});t(this,"onRender",e=>{this.renderer.render(this,this.camera)});this.camera=new N(75,innerWidth/innerHeight,.1,1e3),this.camera.name="main-camera",this.camera.position.z=2,this.add(this.camera);const n=new O(1,1,1),i=new L({});this.cube=new z(n,i),this.cube.name="main-cube",this.add(this.cube),this.orbitControls=new I(this.camera,this.renderer.domElement),this.orbitControls.enablePan=!1,this.cameraMatUpdateCallback=m.createPerspectiveCameraResizer(this.renderer,this.camera),window.addEventListener("resize",this.cameraMatUpdateCallback)}}class m extends j{constructor(e){super(e,{antialias:!0});t(this,"onInitialization",()=>{this.sceneManager.setCurrent("main-scene")});this.sceneManager.set("main-scene",new H({renderer:this.renderer,sceneManager:this.sceneManager}))}}t(m,"createPerspectiveCameraResizer",(e,n)=>i=>{n.aspect=innerWidth/innerHeight,n.updateProjectionMatrix(),e.setSize(innerWidth,innerHeight)});const F=()=>{const r=c.createRef();return P.exports.useEffect(()=>{var n;const e=new m((n=r.current)!=null?n:void 0);return e.onInitialization(),e.run(),()=>{e.onDestruction()}},[]),o("div",{children:o("canvas",{className:"canvas-three",ref:r})})},J=()=>h(c.StrictMode,{children:[o(U,{}),o(F,{})]}),M=17,K=18,G=M,R=()=>o(c.StrictMode,{children:o(J,{})}),$=r=>{_.exports.render(R(),document.getElementById("root"))},q=r=>{A(r).render(R())},V=(r,e)=>{switch(e){case M:$();break;case K:q(r);break;default:{console.error("Selected unsupported react version!");return}}},X=()=>{const r=document.getElementById("root");if(r===null){console.error("Root container cannot be found!");return}V(r,G)};X();
